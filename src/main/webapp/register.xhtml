<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:body>
        <ui:composition template="/WEB-INF/templates/layout.xhtml">
            <ui:define name="title">Register as a user for NBCS</ui:define>
            <ui:define name="nav-headings">
            <li class="nav-item">
                <a class="nav-link" href="index.xhtml">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="login.xhtml">Sign In</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" href="register.xhtml">Register <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="actionPages/request.xhtml">Create Request</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="actionPages/addCar.xhtml">Add Car To Inventory</a>
            </li>
            </ui:define>
            <ui:define name="content">
                <p>Register as a user of the site to be granted additional functionality.</p>

                <h:form id="registration">
                    <fieldset>
                        <legend>Register now!</legend>
                        <ul>
                            <li>
                                <label for="name">Your Name</label>
                                <h:inputText id="name" value="#{registration.newUser.name}"
                                             required="true" requiredMessage="Your name is required"/>
                                <h:message for="name" styleClass="message_all" />
                            </li>
                            <li>
                                <label for="zipCode">Zip Code</label>
                                <h:inputText id="zipCode" value="#{registration.newUser.zipCode}"
                                             required="true" requiredMessage="Your Zip Code is required"/>
                                <h:message for="zipCode" styleClass="message_all" />
                            </li>
                            <li>
                                <label for="screenName">Screen Name</label>
                                <h:inputText id="screenName" value="#{registration.newUser.screenName}" required ="true"
                                requiredMessage="Your Screen Name is required" />
                                <h:message for="screenName" styleClass ="message_all" />
                            </li>
                            <li>
                                <label for="email">Email Address</label>
                                <h:inputText id="email" value="#{registration.newUser.email}"
                                             required="true"  requiredMessage="Your email address is required"
                                              />
                                <h:message for="email" styleClass="message_all" />
                            </li>
                            <li>
<!--                                Should be one for numberical values. Like Phone numbers as done in dates-->
                                <label for="phone">Phone Number</label>
                                <h:inputText id="phone" value="#{registration.newUser.phone}" required ="true"
                                requiredMessage="Your Phone Number is required" />
                                <h:message for="phone" styleClass ="message_all" />
                            </li>


                        </ul>
                        <fieldset>
                            <ul>
                                <li>
                                    <label for="password">Password</label>
                                    <h:inputSecret id="password" value="#{registration.newUser.password}"
                                                   required="true"  requiredMessage="Your must provide a password" />
                                    <h:message for="password" styleClass="message_all" />
                                </li>
                                <li>
                                    <label for="passwordConfirmation">Confirm password</label>
                                    <h:inputSecret id="passwordConfirmation" value="#{registration.passwordConfirmation}"
                                                   required="true"  requiredMessage="You need to confirm your password">
                                        <f:validator validatorId="duplicateFieldValidator"/>
                                        <f:attribute name="field1" value="registration:password"/>
                                        <f:attribute name="fieldNames" value="Passwords"/>
                                    </h:inputSecret>
                                    <h:message for="passwordConfirmation" styleClass="message_all" />
                                </li>
                            </ul>
                        </fieldset>
                        <h:commandButton value="Register" action="#{registration.registerUser}" styleClass="button" />
                        <h:button value="Cancel" outcome="index" styleClass="button" />
                    </fieldset>
                    <p><h:messages  styleClass="message_all" /></p>
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>